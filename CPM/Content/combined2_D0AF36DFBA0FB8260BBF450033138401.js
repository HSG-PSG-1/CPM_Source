var ddsmoothmenu={arrowimages:{down:["downarrowclass",menuDownGifURL,23],right:["rightarrowclass",menuRightGifURL]},transition:{overtime:300,outtime:300},shadow:{enable:!0,offsetx:5,offsety:5},showhidedelay:{showdelay:100,hidedelay:200},detectwebkit:navigator.userAgent.toLowerCase().indexOf("applewebkit")!=-1,detectie6:document.all&&!window.XMLHttpRequest,css3support:window.msPerformance||!document.all&&document.querySelector,getajaxmenu:function(n,t){var i=n("#"+t.contentsource[0]);i.html("Loading Menu..."),n.ajax({url:t.contentsource[1],async:!0,error:function(n){i.html("Error fetching content. Server Response: "+n.responseText)},success:function(r){i.html(r),ddsmoothmenu.buildmenu(n,t)}})},buildmenu:function(n,t){var i=ddsmoothmenu,f=n("#"+t.mainmenuid+">ul"),u,r;if(f.parent().get(0).className=t.classname||"ddsmoothmenu",u=f.find("ul").parent(),u.hover(function(){n(this).children("a:eq(0)").addClass("selected")},function(){n(this).children("a:eq(0)").removeClass("selected")}),u.each(function(r){var u=n(this).css({zIndex:100-r}),f=n(this).find("ul:eq(0)").css({display:"block"}),e;f.data("timers",{}),this._dimensions={w:this.offsetWidth,h:this.offsetHeight,subulw:f.outerWidth(),subulh:f.outerHeight()},this.istopheader=u.parents("ul").length==1?!0:!1,f.css({top:this.istopheader&&t.orientation!="v"?this._dimensions.h+"px":0}),u.children("a:eq(0)").css(this.istopheader?{paddingRight:i.arrowimages.down[2]}:{}).append('<img src="'+(this.istopheader&&t.orientation!="v"?i.arrowimages.down[1]:i.arrowimages.right[1])+'" class="'+(this.istopheader&&t.orientation!="v"?i.arrowimages.down[0]:i.arrowimages.right[0])+'" style="border:0;" />'),i.shadow.enable&&!i.css3support&&(this._shadowoffset={x:this.istopheader?f.offset().left+i.shadow.offsetx:this._dimensions.w,y:this.istopheader?f.offset().top+i.shadow.offsety:u.position().top},this.istopheader?$parentshadow=n(document.body):(e=u.parents("li:eq(0)"),$parentshadow=e.get(0).$shadow),this.$shadow=n('<div class="ddshadow'+(this.istopheader?" toplevelshadow":"")+'"></div>').prependTo($parentshadow).css({left:this._shadowoffset.x+"px",top:this._shadowoffset.y+"px"})),u.hover(function(){var o=f,e=u.get(0);clearTimeout(o.data("timers").hidetimer),o.data("timers").showtimer=setTimeout(function(){var r,s,f;e._offsets={left:u.offset().left,top:u.offset().top},r=e.istopheader&&t.orientation!="v"?0:e._dimensions.w,r=e._offsets.left+r+e._dimensions.subulw>n(window).width()?e.istopheader&&t.orientation!="v"?-e._dimensions.subulw+e._dimensions.w:-e._dimensions.w:r,o.queue().length<=1&&(o.css({left:r+"px",width:e._dimensions.subulw+"px"}).animate({height:"show",opacity:"show"},ddsmoothmenu.transition.overtime),i.shadow.enable&&!i.css3support&&(s=e.istopheader?o.offset().left+ddsmoothmenu.shadow.offsetx:r,f=e.istopheader?o.offset().top+i.shadow.offsety:e._shadowoffset.y,!e.istopheader&&ddsmoothmenu.detectwebkit&&e.$shadow.css({opacity:1}),e.$shadow.css({overflow:"",width:e._dimensions.subulw+"px",left:s+"px",top:f+"px"}).animate({height:e._dimensions.subulh+"px"},ddsmoothmenu.transition.overtime)))},ddsmoothmenu.showhidedelay.showdelay)},function(){var t=f,r=u.get(0);clearTimeout(t.data("timers").showtimer),t.data("timers").hidetimer=setTimeout(function(){t.animate({height:"hide",opacity:"hide"},ddsmoothmenu.transition.outtime),i.shadow.enable&&!i.css3support&&(ddsmoothmenu.detectwebkit&&r.$shadow.children("div:eq(0)").css({opacity:0}),r.$shadow.css({overflow:"hidden"}).animate({height:0},ddsmoothmenu.transition.outtime))},ddsmoothmenu.showhidedelay.hidedelay)})}),i.shadow.enable&&i.css3support){var s=n("#"+t.mainmenuid+" ul li ul"),o=parseInt(i.shadow.offsetx)+"px "+parseInt(i.shadow.offsety)+"px 5px #aaa",e=["boxShadow","MozBoxShadow","WebkitBoxShadow","MsBoxShadow"];for(r=0;r<e.length;r++)s.css(e[r],o)}f.find("ul").css({display:"none",visibility:"visible"})},init:function(n){if(typeof n.customtheme=="object"&&n.customtheme.length==2){var t="#"+n.mainmenuid,i=n.orientation=="v"?t:t+", "+t;document.write('<style type="text/css">\n'+i+" ul li a {background:"+n.customtheme[0]+";}\n"+t+" ul li a:hover {background:"+n.customtheme[1]+";}\n</style>")}this.shadow.enable=document.all&&!window.XMLHttpRequest?!1:this.shadow.enable,jQuery(document).ready(function(t){typeof n.contentsource=="object"?ddsmoothmenu.getajaxmenu(t,n):ddsmoothmenu.buildmenu(t,n)})}};function checkReq(n,t){$(n).val().toString().length>0||$(t).val("")}function log(n,t){$(t).val(n?n.id:"")}function toggleDDimg(n,t){n.children("img:first").css("display",t?"none":""),n.children("img:last").css("display",t?"":"none")}function getStuffedAutoCompVal(n){for(var t=$(n).val();t==null||t.length<autoCompMinLen;)t=t+" ";return $(n).focus(),t}function renderAutoComplete(n,t,i){var u=$(t).parent().children("span:first"),r;$(i).autocomplete({source:n,autoFocus:!0,minLength:autoCompMinLen,select:function(n,r){r.item.id==null?n.preventDefault():log(r.item,t,i)},focus:function(n,t){t.item.id==null&&n.preventDefault()},open:function(){toggleDDimg(u,!0),$("#msg").hide()},close:function(){toggleDDimg(u,!1)}}),$(i).change(function(){checkReq(i,t)}),$(i).focus(function(){$(this).select()}),r=$(t).val(),$(t).val(r=="0"?"":r),$(i).attr("title","Start typing to search or enter blank space twice to view all"),$(t).css("display","none")}function setDDLtext(n,t){var i=document.getElementById(n),r=i.selectedIndex!=null?i.selectedIndex:0;$("#"+t).val(i.options[r].text)}function roundNumber(n,t){var i=Math.round(n*Math.pow(10,t))/Math.pow(10,t);return parseFloat(i)}function confirmDeleteM(n,t){var i=window.confirm(t);return stopEvent(n,i)}function confirmDelete(n){var t=window.confirm("Are you sure you want to delete this record?");return stopEvent(n,t)}function stopEvent(n,t){return t?!0:(n||(n=window.event),n.cancelBubble&&(n.cancelBubble=!0),n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),!1)}function reload(n,t,i){return(n==null||n.length<1)&&(n=t),$(i).html(loading),$(i).load(n,function(){checksession()}),!1}function reloadWithCallback(n,t,i,r){return(n==null||n.length<1)&&(n=t),$(i).html(loading),$(i).load(n,r),!1}function doAjaxForm(n,t,i){var r=$(i)[0]!=null;$(n).ajaxForm({target:t,success:function(){checksession(),r?$(i).attr("checked",!1):$(n).show()},error:function(){$(t).html("<div class='error'>Error has occurred. Possible causes:<br/><ul><li>Session is corrupted or expired. Please logout & login again.</li><li>Request size including file upload (if any) exceeds the maximum allowable size.</li><li>Internal processing error.</li></ul><i class='small'>It might be a glitch. But if you're getting this error consistently. Kindly report us with specific details.</i></div>")},beforeSubmit:function(i,u){var e=$(u).valid();if(!e)return e;r?$(t).html(loading):($(n).hide(),$(t).prepend(loading))}})}function checksession(){$("#tblLogin001")[0]!=null&&(alert("Session Expired"),window.location.href=loginURL==null?"/Common/Login":loginURL)}function clearForm(n){var t=n.elements;for(n.reset(),i=0;i<t.length;i++)if(t[i].type){field_type=t[i].type.toLowerCase();switch(field_type){case"text":case"password":case"textarea":case"hidden":t[i].value="";break;case"radio":case"checkbox":t[i].checked&&(t[i].checked=!1);break;case"select-one":case"select-multi":t[i].selectedIndex=-1}}}function resetDatepicker(n){$(n).val("").datepicker("option",{minDate:minSQLDate,maxDate:maxSQLDate})}function doCollapse(){window.location.href.search("sp=none")>-1&&showHideDiv(tblSearch)}function chkCollapse(n){try{var i=document.getElementById(tblSearch),t=i.style.display=="none",r=n.href.search("sp=none")>-1;return r&&t?!0:(window.location=t?n.href+"&sp="+i.style.display:n.href.replace("&sp=none",""),!1)}catch(u){return!0}}function toggleDDL(n,t){flag=t.style.display=="none",t.style.display=flag?"inline":"none",t.style.width=flag?"80px":"0px";var i=n.getAttribute("width1");n.style.width=flag?"53px":i}function setFiltered(n,t){var u="%",i=t.value.replace("%","").replace("%","").replace("%","").replace("%",""),r;if(i!=null&&i.length>0)switch(n){case"3":t.value=i+u;break;case"4":t.value=u+i;break;case"2":t.value=i;break;case"1":default:t.value=u+i+u}t.focus(),r=t.getAttribute("paramTxt"),r!=null&&r.length>0&&(document.getElementById(r).value=t.value)}function toggleImg(n){n!=null&&($(n).children("img:first").toggle(),$(n).children("img:last").toggle())}function showHideDiv(n){showImgPath=showImgPath==null?"../../Content/Images/aroL.gif":showImgPath,hideImgPath=hideImgPath==null?"../../Content/Images/aroB.gif":hideImgPath;var t=document.getElementById(n),r=document.getElementById(t.id+"Img"),i=t.style.display==""||t.style.display=="";t.style.display=i?"none":"",r.src=i?showImgPath:hideImgPath}function openWin(n,t,i){var u=screen.width/2-i/2,r=screen.height/2-t/2;targetWin1!=null&&targetWin1.close(),targetWin1=window.open(n,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=yes, copyhistory=no, width="+i+", height="+t+", top="+r+", left="+u)}function openWinScrollable(n,t,i){var u=screen.width/2-i/2,r=screen.height/2-t/2;targetWin1!=null&&targetWin1.close(),targetWin1=window.open(n,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, copyhistory=no, width="+i+", height="+t+", top="+r+", left="+u)}function setFocus(n){var t=document.getElementById(n);t==null&&(t=document.getElementsByName(n),t.length>0&&(t=t[0]));try{t.focus();return}catch(i){}}function toggleTbody(n){return document.getElementById&&n&&typeof n.className=="string"&&(n.className=n.className=="off"?"on":"off"),!1}function reviseLastGrpCount(n){$("div.pager").length>0&&$("div.pager a[disabled]:last-child").length<1&&$("#td"+n).append("+")}function showOprResult(n,t){$(n).effect("highlight",{},4e3).fadeOut(t==1?1e3:8e3,function(){$(n).remove()});try{DisableSubmitButtons(!1)}catch(i){}}function setDefaultIfEmpty(n,t){$(n).val()==""&&$(n).val(t)}function trimTextAreaMaxLen(n,t){try{$(n).val($(n).val().slice(0,t))}catch(i){}}function trimTextAreaMaxLen(n){try{var t=$(n).attr("maxlength");$(n).val($(n).val().slice(0,t))}catch(i){}}function chartPieSelectHandler(n,t,i){var r=n.getSelection()[0];return r?t.getValue(r.row,i):null}function DisableSubmitButtons(n){$('input[type = "submit"]').prop("disabled",n)}var autoCompMinLen=2,autoCompleteALL="  ",delTR="",tblSearch="tblSearch",targetWin1,sorterTextExtraction=function(n){var t=$(n).children("input:first-child");return(t=t.length<1?$(n).children("select:first-child"):t,t.length<1)?n.innerHTML:t.attr("checked")!=null?t.attr("checked"):t.val()},doFurtherProcessing=function(){};/*!
* jQuery Form Plugin
* version: 3.24 (26-DEC-2012)
* @requires jQuery v1.5 or later
*
* Examples and documentation at: http://malsup.com/jquery/form/
* Project repository: https://github.com/malsup/form
* Dual licensed under the MIT and GPL licenses:
*    http://malsup.github.com/mit-license.txt
*    http://malsup.github.com/gpl-license-v2.txt
*/
(function(n){"use strict";function r(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(this).ajaxSubmit(i))}function u(t){var r=t.target,f=n(r),e,i,u;if(!f.is("[type=submit],[type=image]")){if(e=f.closest("[type=submit]"),e.length===0)return;r=e[0]}i=this,i.clk=r,r.type=="image"&&(t.offsetX!==undefined?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):typeof n.fn.offset=="function"?(u=f.offset(),i.clk_x=t.pageX-u.left,i.clk_y=t.pageY-u.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop)),setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={};i.fileapi=n("<input type='file'/>").get(0).files!==undefined,i.formdata=window.FormData!==undefined,n.fn.ajaxSubmit=function(r){function ft(t){for(var r=n.param(t).split("&"),e=r.length,f={},u,i=0;i<e;i++)r[i]=r[i].replace(/\+/g," "),u=r[i].split("="),f[decodeURIComponent(u[0])]=decodeURIComponent(u[1]);return f}function ut(t){for(var s=new FormData,e,f,i,o,u=0;u<t.length;u++)s.append(t[u].name,t[u].value);if(r.extraData){e=ft(r.extraData);for(f in e)e.hasOwnProperty(f)&&s.append(f,e[f])}return r.data=null,i=n.extend(!0,{},n.ajaxSettings,r,{contentType:!1,processData:!1,cache:!1,type:c||"POST"}),r.uploadProgress&&(i.xhr=function(){var n=jQuery.ajaxSettings.xhr();return n.upload&&(n.upload.onprogress=function(n){var u=0,i=n.loaded||n.position,t=n.total;n.lengthComputable&&(u=Math.ceil(i/t*100)),r.uploadProgress(n,i,t,u)}),n}),i.data=null,o=i.beforeSend,i.beforeSend=function(n,t){t.data=s,o&&o.call(this,n,t)},n.ajax(i)}function g(i){function st(n){return n.contentWindow?n.contentWindow.document:n.contentDocument?n.contentDocument:n.document}function ht(){function s(){try{var n=st(l).readyState;t("state = "+n),n&&n.toLowerCase()=="uninitialized"&&setTimeout(s,50)}catch(i){t("Server abort: ",i," (",i.name,")"),w(g),k&&clearTimeout(k),k=undefined}}var e=u.attr("target"),o=u.attr("action"),r,i;h.setAttribute("target",d),c||h.setAttribute("method","POST"),o!=f.url&&h.setAttribute("action",f.url),f.skipEncodingOverride||c&&!/post/i.test(c)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(k=setTimeout(function(){ft=!0,w(ut)},f.timeout)),r=[];try{if(f.extraData)for(i in f.extraData)f.extraData.hasOwnProperty(i)&&(n.isPlainObject(f.extraData[i])&&f.extraData[i].hasOwnProperty("name")&&f.extraData[i].hasOwnProperty("value")?r.push(n('<input type="hidden" name="'+f.extraData[i].name+'">').val(f.extraData[i].value).appendTo(h)[0]):r.push(n('<input type="hidden" name="'+i+'">').val(f.extraData[i]).appendTo(h)[0]));f.iframeTarget||(v.appendTo("body"),l.attachEvent?l.attachEvent("onload",w):l.addEventListener("load",w,!1)),setTimeout(s,15),h.submit()}finally{h.setAttribute("action",o),e?h.setAttribute("target",e):u.removeAttr("target"),n(r).remove()}}function w(i){var r,u,b,s,d,nt,h,c,y;if(!e.aborted&&!ot){try{o=st(l)}catch(tt){t("cannot access response document: ",tt),i=g}if(i===ut&&e){e.abort("timeout"),a.reject(e,"timeout");return}if(i==g&&e){e.abort("server abort"),a.reject(e,"error","server abort");return}if(o&&o.location.href!=f.iframeSrc||ft){l.detachEvent?l.detachEvent("onload",w):l.removeEventListener("load",w,!1),r="success";try{if(ft)throw"timeout";if(b=f.dataType=="xml"||o.XMLDocument||n.isXMLDoc(o),t("isXml="+b),!b&&window.opera&&(o.body===null||!o.body.innerHTML)&&--et){t("requeing onLoad callback, DOM not available"),setTimeout(w,250);return}s=o.body?o.body:o.documentElement,e.responseText=s?s.innerHTML:null,e.responseXML=o.XMLDocument?o.XMLDocument:o,b&&(f.dataType="xml"),e.getResponseHeader=function(n){var t={"content-type":f.dataType};return t[n]},s&&(e.status=Number(s.getAttribute("status"))||e.status,e.statusText=s.getAttribute("statusText")||e.statusText),d=(f.dataType||"").toLowerCase(),nt=/(json|script|text)/.test(d),nt||f.textarea?(h=o.getElementsByTagName("textarea")[0],h?(e.responseText=h.value,e.status=Number(h.getAttribute("status"))||e.status,e.statusText=h.getAttribute("statusText")||e.statusText):nt&&(c=o.getElementsByTagName("pre")[0],y=o.getElementsByTagName("body")[0],c?e.responseText=c.textContent?c.textContent:c.innerText:y&&(e.responseText=y.textContent?y.textContent:y.innerText))):d=="xml"&&!e.responseXML&&e.responseText&&(e.responseXML=yt(e.responseText));try{ct=at(e,d,f)}catch(i){r="parsererror",e.error=u=i||r}}catch(i){t("error caught: ",i),r="error",e.error=u=i||r}e.aborted&&(t("upload aborted"),r=null),e.status&&(r=e.status>=200&&e.status<300||e.status===304?"success":"error"),r==="success"?(f.success&&f.success.call(f.context,ct,"success",e),a.resolve(e.responseText,"success",e),p&&n.event.trigger("ajaxSuccess",[e,f])):r&&(u===undefined&&(u=e.statusText),f.error&&f.error.call(f.context,e,r,u),a.reject(e,"error",u),p&&n.event.trigger("ajaxError",[e,f,u])),p&&n.event.trigger("ajaxComplete",[e,f]),p&&!--n.active&&n.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,e,r),ot=!0,f.timeout&&clearTimeout(k),setTimeout(function(){f.iframeTarget||v.remove(),e.responseXML=null},100)}}}var h=u[0],it,nt,f,p,d,v,l,e,b,y,ft,k,vt=!!n.fn.prop,a=n.Deferred(),ut,g,tt,rt,ct,o,et,ot;if(n("[name=submit],[id=submit]",h).length)return alert('Error: Form elements must not have name or id of "submit".'),a.reject(),a;if(i)for(nt=0;nt<s.length;nt++)it=n(s[nt]),vt?it.prop("disabled",!1):it.removeAttr("disabled");if(f=n.extend(!0,{},n.ajaxSettings,r),f.context=f.context||f,d="jqFormIO"+ +new Date,f.iframeTarget?(v=n(f.iframeTarget),y=v.attr("name"),y?d=y:v.attr("name",d)):(v=n('<iframe name="'+d+'" src="'+f.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),l=v[0],e={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r=i==="timeout"?"timeout":"aborted";t("aborting upload... "+r),this.aborted=1;try{l.contentWindow.document.execCommand&&l.contentWindow.document.execCommand("Stop")}catch(u){}v.attr("src",f.iframeSrc),e.error=r,f.error&&f.error.call(f.context,e,r,i),p&&n.event.trigger("ajaxError",[e,f,r]),f.complete&&f.complete.call(f.context,e,r)}},p=f.global,p&&0==n.active++&&n.event.trigger("ajaxStart"),p&&n.event.trigger("ajaxSend",[e,f]),f.beforeSend&&f.beforeSend.call(f.context,e,f)===!1)return f.global&&n.active--,a.reject(),a;if(e.aborted)return a.reject(),a;b=h.clk,b&&(y=b.name,y&&!b.disabled&&(f.extraData=f.extraData||{},f.extraData[y]=b.value,b.type=="image"&&(f.extraData[y+".x"]=h.clk_x,f.extraData[y+".y"]=h.clk_y))),ut=1,g=2,tt=n("meta[name=csrf-token]").attr("content"),rt=n("meta[name=csrf-param]").attr("content"),rt&&tt&&(f.extraData=f.extraData||{},f.extraData[rt]=tt),f.forceSync?ht():setTimeout(ht,10),et=50;var yt=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null},lt=n.parseJSON||function(n){return window.eval("("+n+")")},at=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e=i==="xml"||!i&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&u.documentElement.nodeName==="parsererror"&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),typeof u=="string"&&(i==="json"||!i&&f.indexOf("json")>=0?u=lt(u):(i==="script"||!i&&f.indexOf("javascript")>=0)&&n.globalEval(u)),u};return a}var c,b,o,u,v,a,s,p,e,h,f,nt,k,l,y;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(u=this,typeof r=="function"&&(r={success:r}),c=this.attr("method"),b=this.attr("action"),o=typeof b=="string"?n.trim(b):"",o=o||window.location.href||"",o&&(o=(o.match(/^([^#]+)/)||[])[1]),r=n.extend(!0,{url:o,success:n.ajaxSettings.success,type:c||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r),v={},this.trigger("form-pre-serialize",[this,r,v]),v.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(r.beforeSerialize&&r.beforeSerialize(this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(a=r.traditional,a===undefined&&(a=n.ajaxSettings.traditional),s=[],e=this.formToArray(r.semantic,s),r.data&&(r.extraData=r.data,p=n.param(r.data,a)),r.beforeSubmit&&r.beforeSubmit(e,this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[e,this,r,v]),v.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;h=n.param(e,a),p&&(h=h?h+"&"+p:p),r.type.toUpperCase()=="GET"?(r.url+=(r.url.indexOf("?")>=0?"&":"?")+h,r.data=null):r.data=h,f=[],r.resetForm&&f.push(function(){u.resetForm()}),r.clearForm&&f.push(function(){u.clearForm(r.includeHidden)}),!r.dataType&&r.target?(nt=r.success||function(){},f.push(function(t){var i=r.replaceTarget?"replaceWith":"html";n(r.target)[i](t).each(nt,arguments)})):r.success&&f.push(r.success),r.success=function(n,t,i){for(var s=r.context||this,e=0,o=f.length;e<o;e++)f[e].apply(s,[n,t,i||u,u])};var rt=n('input[type=file]:enabled[value!=""]',this),it=rt.length>0,tt="multipart/form-data",d=u.attr("enctype")==tt||u.attr("encoding")==tt,w=i.fileapi&&i.formdata;for(t("fileAPI :"+w),k=(it||d)&&!w,r.iframe!==!1&&(r.iframe||k)?r.closeKeepAlive?n.get(r.closeKeepAlive,function(){l=g(e)}):l=g(e):l=(it||d)&&w?ut(e):n.ajax(r),u.removeData("jqxhr").data("jqxhr",l),y=0;y<s.length;y++)s[y]=null;return this.trigger("form-submit-notify",[this,r]),this},n.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&n.isFunction(n.fn.on),!i.delegation&&this.length===0){var f={s:this.selector,c:this.context};return!n.isReady&&f.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(f.s,f.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}if(i.delegation){n(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,u).on("submit.form-plugin",this.selector,i,r).on("click.form-plugin",this.selector,i,u);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",i,r).bind("click.form-plugin",i,u)},n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},n.fn.formToArray=function(t,r){var o=[],e,v,a,h,f,s,u,p,w,c,y,l;if(this.length===0||(e=this[0],v=t?e.getElementsByTagName("*"):e.elements,!v))return o;for(a=0,p=v.length;a<p;a++)if(u=v[a],f=u.name,f){if(t&&e.clk&&u.type=="image"){u.disabled||e.clk!=u||(o.push({name:f,value:n(u).val(),type:u.type}),o.push({name:f+".x",value:e.clk_x},{name:f+".y",value:e.clk_y}));continue}if(s=n.fieldValue(u,!0),s&&s.constructor==Array)for(r&&r.push(u),h=0,w=s.length;h<w;h++)o.push({name:f,value:s[h]});else if(i.fileapi&&u.type=="file"&&!u.disabled)if(r&&r.push(u),c=u.files,c.length)for(h=0;h<c.length;h++)o.push({name:f,value:c[h],type:u.type});else o.push({name:f,value:"",type:u.type});else s!==null&&typeof s!="undefined"&&(r&&r.push(u),o.push({name:f,value:s,type:u.type,required:u.required}))}return!t&&e.clk&&(y=n(e.clk),l=y[0],f=l.name,f&&!l.disabled&&l.type=="image"&&(o.push({name:f,value:y.val()}),o.push({name:f+".x",value:e.clk_x},{name:f+".y",value:e.clk_y}))),o},n.fn.formSerialize=function(t){return n.param(this.formToArray(t))},n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var e=this.name,r,u,f;if(e)if(r=n.fieldValue(this,t),r&&r.constructor==Array)for(u=0,f=r.length;u<f;u++)i.push({name:e,value:r[u]});else r!==null&&typeof r!="undefined"&&i.push({name:this.name,value:r})}),n.param(i)},n.fn.fieldValue=function(t){for(var f,i,u=[],r=0,e=this.length;r<e;r++)(f=this[r],i=n.fieldValue(f,t),i!==null&&typeof i!="undefined"&&(i.constructor!=Array||i.length))&&(i.constructor==Array?n.merge(u,i):u.push(i));return u},n.fieldValue=function(t,i){var v=t.name,u=t.type,h=t.tagName.toLowerCase(),o,e,r,f;if(i===undefined&&(i=!0),i&&(!v||t.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!t.checked||(u=="submit"||u=="image")&&t.form&&t.form.clk!=t||h=="select"&&t.selectedIndex==-1))return null;if(h=="select"){if(o=t.selectedIndex,o<0)return null;var c=[],l=t.options,s=u=="select-one",a=s?o+1:l.length;for(e=s?o:0;e<a;e++)if(r=l[e],r.selected){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),s)return f;c.push(f)}return c}return n(t).val()},n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})},n.fn.clearFields=n.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,u=this.tagName.toLowerCase();i.test(r)||u=="textarea"?this.value="":r=="checkbox"||r=="radio"?this.checked=!1:u=="select"?this.selectedIndex=-1:r=="file"?n.browser.msie?n(this).replaceWith(n(this).clone()):n(this).val(""):t&&(t===!0&&/hidden/.test(r)||typeof t=="string"&&n(this).is(t))&&(this.value="")})},n.fn.resetForm=function(){return this.each(function(){typeof this.reset!="function"&&(typeof this.reset!="object"||this.reset.nodeType)||this.reset()})},n.fn.enable=function(n){return n===undefined&&(n=!0),this.each(function(){this.disabled=!n})},n.fn.selected=function(t){return t===undefined&&(t=!0),this.each(function(){var r=this.type,i;r=="checkbox"||r=="radio"?this.checked=t:this.tagName.toLowerCase()=="option"&&(i=n(this).parent("select"),t&&i[0]&&i[0].type=="select-one"&&i.find("option").selected(!1),this.selected=t)})},n.fn.ajaxSubmit.debug=!1})(jQuery);